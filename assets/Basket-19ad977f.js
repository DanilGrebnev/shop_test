import{u as N,j as s,c as h,s as d,B as o,b as p,r as y,C as j,a as c,D as _,d as B,g as k,e as x,f as l,A,h as C,v}from"./index-6e43a353.js";const g=a=>{const{amount:t=1,id:e,className:n}=a,r=N(),m=()=>{r(p.incrementAmount({id:e}))},i=()=>{r(p.decrementAmount({id:e}))};return s.jsxs("div",{className:h(d.ButtonContainer,n),children:[s.jsx(o,{className:d.dec,onClick:i,children:"-"}),t,s.jsx(o,{className:d.inc,onClick:m,children:"+"})]})},I=a=>{const{id:t,image:e,name:n,price:r,amount:m}=a,i=y.useRef(t);return s.jsxs(j,{className:c.BasketCard,children:[s.jsx("img",{loading:"lazy",src:e}),s.jsx(_,{id:i.current}),s.jsx("h2",{className:c.productName,children:n}),s.jsxs("div",{className:c.price,children:["Цена: ",r," ₽"]}),s.jsxs("div",{className:c.amount,children:[" Количество: ",m," "]}),s.jsx(g,{id:t,amount:m,className:c.changeAmountBtn})]})},z=()=>{const t=B(k).reduce((e,n)=>e+=n.price*n.amount,0);return s.jsxs("div",{className:x.summarySection,children:[s.jsx("span",{children:"Итого:"}),s.jsxs("span",{className:x.summaryHeaderSum,children:[t," ₽"]})]})},$=()=>s.jsxs(j,{className:l.TotalAmount,children:[s.jsx("div",{className:l.title,children:"Условия заказа:"}),s.jsx(z,{}),s.jsx(o,{size:"medium",className:l.button,variant:"text",children:"Перейти к оформлению"})]}),b="_Basket_dttz0_1",f="_BasketCardWrapper_dttz0_11",S="_empty_dttz0_24",T="_emptyBlock_dttz0_32",u={Basket:b,BasketCardWrapper:f,empty:S,emptyBlock:T},E="_empty_zl9v3_1",W={empty:E},D=()=>s.jsxs("div",{className:W.empty,children:[s.jsx("h1",{children:"Корзина пуста"}),s.jsx(o,{to:A.CATALOG,types:C.BUTTON_LINK,children:"Перейти в каталог"})]}),O=()=>{const a=B(k),t=!!a.length;return s.jsxs("div",{className:h(u.Basket,{[u.empty]:!t}),children:[!t&&s.jsx(D,{}),t&&s.jsx("div",{className:u.BasketCardWrapper,children:a.map(e=>s.jsx(I,{...e},v()))}),t&&s.jsx($,{})]})};export{O as default};
