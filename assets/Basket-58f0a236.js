import{u as k,j as s,s as i,B as m,b as p,C as x,a as r,c as h,g as j,d as u,e as d,A as B,f as y,h as N,v as _}from"./index-3ed45e58.js";const A=a=>{const{amount:t=1,id:e}=a,n=k(),o=()=>{n(p.incrementAmount({id:e}))},c=()=>{n(p.decrementAmount({id:e}))};return s.jsxs("div",{className:i.ButtonContainer,children:[s.jsx(m,{className:i.dec,onClick:c,children:"-"}),t,s.jsx(m,{className:i.inc,onClick:o,children:"+"})]})},C=a=>{const{id:t,image:e,name:n,price:o,amount:c}=a;return s.jsxs(x,{className:r.BasketCard,children:[s.jsx("img",{loading:"lazy",src:e}),s.jsx("h2",{className:r.productName,children:n}),s.jsxs("div",{className:r.price,children:["Цена: ",o]}),s.jsxs("div",{className:r.amount,children:[" Количество: ",c," "]}),s.jsx(A,{id:t,amount:c})]})},v=()=>{const t=h(j).reduce((e,n)=>e+=n.price*n.amount,0);return s.jsxs("div",{className:u.summarySection,children:[s.jsx("span",{children:"Итого"}),s.jsx("span",{className:u.summaryHeaderSum,children:t})]})},g=()=>s.jsxs(x,{className:d.TotalAmount,children:[s.jsx("div",{className:d.title,children:"Условия заказа:"}),s.jsx(v,{}),s.jsx(m,{size:"medium",className:d.button,variant:"text",children:"Перейти к оформлению"})]}),z="_Basket_dttz0_1",$="_BasketCardWrapper_dttz0_11",b="_empty_dttz0_24",I="_emptyBlock_dttz0_32",l={Basket:z,BasketCardWrapper:$,empty:b,emptyBlock:I},S="_empty_zl9v3_1",T={empty:S},f=()=>s.jsxs("div",{className:T.empty,children:[s.jsx("h1",{children:"Корзина пуста"}),s.jsx(m,{to:B.CATALOG,types:y.BUTTON_LINK,children:"Перейти в каталог"})]}),E=()=>{const a=h(j),t=!!a.length;return s.jsxs("div",{className:N(l.Basket,{[l.empty]:!t}),children:[!t&&s.jsx(f,{}),t&&s.jsx("div",{className:l.BasketCardWrapper,children:a.map(e=>s.jsx(C,{...e},_()))}),t&&s.jsx(g,{})]})};export{E as default};
