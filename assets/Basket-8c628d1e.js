import{u as k,j as s,s as i,B as m,b as p,C as x,a as r,c as j,g as h,d as u,e as d,f as B,h as y,v as N}from"./index-3736cc43.js";const _=a=>{const{amount:t=1,id:e}=a,n=k(),o=()=>{n(p.incrementAmount({id:e}))},c=()=>{n(p.decrementAmount({id:e}))};return s.jsxs("div",{className:i.ButtonContainer,children:[s.jsx(m,{className:i.dec,onClick:c,children:"-"}),t,s.jsx(m,{className:i.inc,onClick:o,children:"+"})]})},v=a=>{const{id:t,image:e,name:n,price:o,amount:c}=a;return s.jsxs(x,{className:r.BasketCard,children:[s.jsx("img",{loading:"lazy",src:e}),s.jsx("h2",{className:r.productName,children:n}),s.jsxs("div",{className:r.price,children:["Цена: ",o]}),s.jsxs("div",{className:r.amount,children:[" Количество: ",c," "]}),s.jsx(_,{id:t,amount:c})]})},C=()=>{const t=j(h).reduce((e,n)=>e+=n.price*n.amount,0);return s.jsxs("div",{className:u.summarySection,children:[s.jsx("span",{children:"Итого"}),s.jsx("span",{className:u.summaryHeaderSum,children:t})]})},A=()=>s.jsxs(x,{className:d.TotalAmount,children:[s.jsx("div",{className:d.title,children:"Условия заказа:"}),s.jsx(C,{}),s.jsx(m,{size:"medium",className:d.button,variant:"text",children:"Перейти к оформлению"})]}),g="_Basket_dttz0_1",z="_BasketCardWrapper_dttz0_11",$="_empty_dttz0_24",b="_emptyBlock_dttz0_32",l={Basket:g,BasketCardWrapper:z,empty:$,emptyBlock:b},I="_empty_zl9v3_1",S={empty:I},T=()=>s.jsxs("div",{className:S.empty,children:[s.jsx("h1",{children:"Корзина пуста"}),s.jsx(m,{to:"/",types:B.BUTTON_LINK,children:"Перейти в каталог"})]}),W=()=>{const a=j(h),t=!!a.length;return s.jsxs("div",{className:y(l.Basket,{[l.empty]:!t}),children:[!t&&s.jsx(T,{}),t&&s.jsx("div",{className:l.BasketCardWrapper,children:a.map(e=>s.jsx(v,{...e},N()))}),t&&s.jsx(A,{})]})};export{W as default};
